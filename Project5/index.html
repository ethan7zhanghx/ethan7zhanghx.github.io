<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 塔罗指引</title>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-900 text-gray-200 font-sans overflow-x-hidden">
    <div id="app-container" class="relative min-h-screen w-full flex items-center justify-center p-4">
        
        <div class="absolute inset-0 bg-gradient-to-br from-indigo-900/50 via-slate-900 to-purple-900/50 z-0"></div>
        <div class="stars"></div>
        <div class="twinkling"></div>
        
        <main id="main-content" class="w-full max-w-5xl mx-auto z-10">
            <!-- Welcome Screen -->
            <section id="welcome-screen">
                <div class="flex flex-col items-center text-center backdrop-blur-sm bg-white/5 p-8 rounded-2xl shadow-2xl shadow-purple-500/10">
                    <h1 class="text-4xl md:text-6xl font-serif font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-amber-300 mb-4">AI 塔罗指引</h1>
                    <p class="text-lg md:text-xl text-gray-300 mb-8">在星辰的指引下，探索你内心的答案。</p>
                    <button id="start-btn" class="btn-primary">
                        <i data-lucide="sparkles" class="mr-2"></i>
                        开始占卜
                    </button>
                </div>
            </section>

            <!-- Question Screen -->
            <section id="question-screen">
                <div class="flex flex-col items-center backdrop-blur-sm bg-white/5 p-8 rounded-2xl shadow-2xl shadow-purple-500/10">
                    <h2 class="text-3xl md:text-4xl font-serif font-bold text-white mb-6 text-center">提出您心中的疑问</h2>
                    <div class="w-full max-w-2xl mx-auto flex flex-col items-center gap-4">
                        <textarea id="question-input" rows="3" class="w-full p-4 bg-gray-800/50 border border-purple-400/30 rounded-lg text-lg text-gray-200 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 transition duration-300 resize-none"></textarea>
                        
                        <button id="ai-assist-btn" class="btn-secondary w-full sm:w-auto">
                            <i data-lucide="wand-2" class="mr-2"></i>
                            AI 优化建议
                        </button>
                        
                        <!-- AI Assist Module -->
                        <div id="ai-assist-module" class="w-full text-left p-6 bg-purple-900/20 border border-purple-400/50 rounded-lg">
                            <h3 class="font-bold text-lg text-amber-300 mb-3 flex items-center"><i data-lucide="brain-circuit" class="mr-2"></i> 智能问题优化</h3>
                            <p id="ai-optimized-question" class="text-gray-300 text-lg"></p>
                            <button id="use-ai-question-btn" class="btn-secondary mt-4">
                                使用此问题
                            </button>
                        </div>

                        <div class="mt-4">
                            <button id="confirm-question-btn" class="btn-primary">
                                确认问题并继续 <i data-lucide="arrow-right" class="ml-2"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Spread Selection Screen -->
            <section id="spread-select-screen">
                <div class="flex flex-col items-center backdrop-blur-sm bg-white/5 p-8 rounded-2xl shadow-2xl shadow-purple-500/10">
                    <h2 class="text-3xl md:text-4xl font-serif font-bold text-white mb-8 text-center">请选择牌阵</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-3xl mx-auto">
                        <div id="three-card-spread-btn" class="spread-card group">
                            <h3 class="text-2xl font-serif font-bold text-amber-300">三牌阵</h3>
                            <p class="text-gray-400 mt-2">适用于快速了解问题在过去、现在、未来的发展脉络。</p>
                            <span class="mt-4 text-sm font-semibold text-purple-300">需要 3 张牌</span>
                        </div>
                        <div class="spread-card group disabled">
                            <h3 class="text-2xl font-serif font-bold text-amber-300/50">凯尔特十字</h3>
                            <p class="text-gray-500 mt-2">适用于对复杂问题进行全面的、多角度的深入分析。</p>
                            <span class="mt-4 text-sm font-semibold text-purple-300/50">需要 10 张牌 (演示禁用)</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Reading Screen -->
            <section id="reading-screen" class="w-full">
                <div class="flex flex-col items-center gap-8 w-full">
                    <div class="text-center">
                        <h2 class="text-3xl md:text-4xl font-serif font-bold text-white mb-2">请依次点击卡牌揭示</h2>
                        <p id="reading-prompt" class="text-center text-gray-400">点击卡牌以翻转并查看解读</p>
                    </div>

                    <div id="card-area" class="flex flex-wrap justify-center items-center gap-6 md:gap-10 mb-2 min-h-[380px] md:min-h-[450px]">
                        <!-- Cards will be injected here by JS -->
                    </div>
                    
                    <div id="reading-results" class="w-full max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6">
                        <!-- Interpretations will be injected here -->
                    </div>

                    <div class="text-center mt-4">
                        <button id="ai-deep-analysis-btn" class="btn-primary px-10 py-4 text-lg">
                            <i data-lucide="brain-circuit" class="mr-2"></i>
                            查看AI深度分析
                        </button>
                    </div>

                    <div id="ai-deep-analysis-module" class="w-full max-w-4xl mx-auto p-6 md:p-8 bg-gradient-to-br from-amber-500/10 to-purple-500/10 border border-amber-400/50 rounded-2xl shadow-2xl shadow-amber-500/10">
                        <h3 class="font-bold text-xl md:text-2xl text-transparent bg-clip-text bg-gradient-to-r from-amber-300 to-yellow-200 mb-4 flex items-center">
                            <i data-lucide="sparkles" class="mr-3"></i> AI 深度洞察
                        </h3>
                        <div id="ai-deep-analysis-text" class="prose prose-invert prose-lg text-gray-300 max-w-none"></div>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>
